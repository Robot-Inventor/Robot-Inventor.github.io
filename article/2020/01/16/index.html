<!DOCTYPE html><html lang=ja><head prefix="og: http://ogp.me/ns#"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140830854-3"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140830854-3")</script> <link rel=preconnect href=https://www.google-analytics.com> <meta charset=UTF-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width,initial-scale=1"> <link rel=stylesheet href=/src/css/index.min.css> <link rel=apple-touch-icon sizes=180x180 href=/src/icon/favicon/apple-touch-icon.png> <link rel=icon type=image/png sizes=32x32 href=/src/icon/favicon/favicon-32x32.png> <link rel=icon type=image/png sizes=16x16 href=/src/icon/favicon/favicon-16x16.png> <link rel=manifest href=/src/icon/favicon/site.webmanifest> <link rel=mask-icon href=/src/icon/favicon/safari-pinned-tab.svg color=#ffa4a4> <link rel="shortcut icon"href=/src/icon/favicon/favicon.ico> <meta name=apple-mobile-web-app-title content="Robot Inventor"> <meta name=application-name content="Robot Inventor"> <meta name=msapplication-TileColor content=#2d89ef> <meta name=msapplication-config content=/src/icon/favicon/browserconfig.xml> <meta name=theme-color content=#ffffff> <title>Raspberry Pi 4 Model B発売！そして、OSをBusterへ更新しよう - Robot Inventor</title> <meta name=description content="Raspberry Pi 4 Model Bの発売に合わせ、新しいRaspberry Pi用OSがリリースされました。最新のOSに更新しましょう。"> <meta property=og:url content=https://robot-inventor.github.io/article/2020/01/16/ > <meta property=og:type content=article> <meta property=og:title content="Raspberry Pi 4 Model B発売！そして、OSをBusterへ更新しよう"> <meta property=og:description content="Raspberry Pi 4 Model Bの発売に合わせ、新しいRaspberry Pi用OSがリリースされました。最新のOSに更新しましょう。"> <meta property=og:site_name content="Robot Inventor"> <meta property=og:image content=https://robot-inventor.github.io/article/2020/01/16/terminal.png> <meta name=twitter:card content=summary_large_image> <meta name=twitter:site content=@keita_roboin> </head> <body> <header> <button id=menu_icon title=メニュー> <div id=menu_icon_line_top></div> <div id=menu_icon_line_center></div> <div id=menu_icon_line_bottom></div> </button> <a href=/ id=top_link> <span id=site_logo_placeholder>ROBOT INVENTOR</span> <img data-src=/src/icon/logo.svg data-alt="ROBOT INVENTOR"id=site_logo> </a> <div id=menu_overlay></div> <div id=menu_bar> <div id=menu_bar_contents> <div> <a href=/ >トップへ</a> </div> <div> <a href=/article>記事一覧</a> </div> <div> <a href=/notice>お知らせ</a> </div> </div> </div> </header> <main id=article_container> <article id=article_container_inner> <h1 id=raspberry-pi-4-model-b発売！そして、osをbusterへ更新しよう>Raspberry Pi 4 Model B発売！そして、OSをBusterへ更新しよう</h1> <div id=article_date_information> <div id=posted_date title=投稿日時> <picture> <source media="(prefers-color-scheme: dark)"srcset=/src/icon/article_white.svg loading=lazy decoding=async alt=アイコン> <img src=/src/icon/article_black.svg loading=lazy decoding=async alt=アイコン> </picture> 作成：<time datetime=2020-01-16T00:00:00.000>2020-01-16　00:00</time> </div> <div id=last_updated_date title=最終更新日時> <picture> <source media="(prefers-color-scheme: dark)"srcset=/src/icon/edit_white.svg loading=lazy decoding=async alt=アイコン> <img src=/src/icon/edit_black.svg loading=lazy decoding=async alt=アイコン> </picture> 最終更新：<time datetime=2022-03-14T01:53:24.301>2022-03-14　01:53</time> </div></div> <div class=note-info> <div class=note-content> <p>この記事は、私がQiitaに投稿したものに少し変更を加えたものです。<a href=https://qiita.com/Robot-Inventor/items/b565e323b94fc2985ec0>この記事をQiitaで読む</a></p> </div> </div> <h2 id=raspberry-pi-4-model-b発売>Raspberry Pi 4 Model B発売</h2> <p>2019年6月24日、「$35 PC」として有名なRaspberry Piの最新モデル「Raspberry Pi 4 Model B」の販売が海外で開始されました。また、2019年11月26日に日本での販売も始まりました。</p> <p>Raspberry Pi 4 Model Bの大まかな仕様は、次のような感じです。</p> <blockquote> <p> <b>Raspberry Pi 4 Model B</b><br> Here are the highlights: </p> <p> -A 1.5GHz quad-core 64-bit ARM Cortex-A72 CPU (~3× performance)<br> -1GB, 2GB, or 4GB of LPDDR4 SDRAM<br> -Full-throughput Gigabit Ethernet<br> -Dual-band 802.11ac wireless networking<br> -Bluetooth 5.0<br> -Two USB 3.0 and two USB 2.0 ports<br> -Dual monitor support, at resolutions up to 4K<br> -VideoCore VI graphics, supporting OpenGL ES 3.x<br> -4Kp60 hardware decode of HEVC video<br> -Complete compatibility with earlier Raspberry Pi products </p> <p> <a href=https://www.raspberrypi.org/blog/raspberry-pi-4-on-sale-now-from-35/ >公式サイトのブログ</a>より引用 </p> </blockquote> <p>日本語に翻訳すると、大体こんな感じです。</p> <blockquote> <p> <b>Raspberry Pi 4 Model B</b><br> Raspberry Pi 4 Model Bの主要な情報： </p> <p> -最大でパフォーマンスが3倍の 1.5GHz 64-bitのクアッドコア ARM Cortex-A72 CPU<br> -1GB、2GBまたは4GB の LPDDR4 SDRAMメモリ<br> -フルスループットのギガビットイーサネット<br> -デュアルバンドの 802.11ac ワイヤレス LAN<br> -Bluetooth5.0<br> -USB2.0 ポートと USB3.0 ポートそれぞれ2つずつ<br> -解像度が 4K にアップし、デュアルモニターをサポート<br> -ビデオコア VI グラフィックスと OpenGL ES 3.x のサポート<br> -4K の 60fps での HEVCビデオのハードウェアデコード<br> -完璧な後方互換 </p> </blockquote> <h2 id=raspbian-stretchからbusterへ>Raspbian StretchからBusterへ</h2> <p>そして、いつもどおり最新のRaspberry Piに対応した新しいRaspbian（Raspberry Pi用のOS）がリリースされました。</p> <p>今まではRaspbian Stretchでしたが、新しいOSはRaspbian Busterです。ちなみに、Raspbianが元にしているLinuxディストリビューションのDebianのBusterは2019年7月7日リリースです。</p> <p>DebianよりもRaspbianのBusterの方が先にリリースされたことについては、公式サイトのブログの<a href=https://www.raspberrypi.org/blog/buster-the-new-version-of-raspbian/ >Raspbian Busterについての記事</a>に詳しく書かれています。</p> <p>新OSでは、UIデザインが変わったりするようです。</p> <h2 id=osを更新しよう>OSを更新しよう</h2> <p>公式ではStretchからBusterに更新するのではなくBusterをクリーンインストールすることを推奨していますが、面倒なので更新します。しかし、あくまで自己責任でお願いします。</p> <p>また、バックアップを取っておいた方がいいでしょう。</p> <p>最初に注意しておきます。先ほど紹介した記事には30分から数時間かかると書いてありますが、確実に数時間かかります。まとまった時間が取れるときに更新するべきです。</p> <p>では、更新していきましょう。ターミナルで</p> <pre><code>$ sudo nano /etc/apt/sources.list
</code></pre> <p>を実行し、ファイル内の"stretch"をすべて"buster"に書き換えます。私の環境では2か所でした。</p> <p>次に</p> <pre><code>$ sudo nano /etc/apt/sources.list.d/raspi.list
</code></pre> <p>を実行し、同じ作業をします。</p> <p>そして、お決まりの</p> <pre><code>$ sudo apt dist-upgrade
または
$ sudo apt-get dist-upgrade
</code></pre> <p>私の環境では、新たにインストールしたりアップグレードしたりするパッケージが1300個くらいありました。</p> <p>測っていなかったので正確には分かりませんが、3時間〜4時間くらいかかります。しかし、それでも有線LANだったのでWi-F（無線LAN）だと場合によってはもっとかかる可能性があります。</p> <p>また、何回か「この設定って、どうする？」的なことを聞かれたので、更新を始めたら放置しておくというやり方はオススメできません。放置だと、何か聞かれたら最後、そこから先に進みません。定期的に何か聞かれていないか確認しましょう。</p> <p>何か聞かれた場合、基本的には、回答の選択肢にY（Yes）があればy 、ターミナルの画面1つ分以上を埋め尽くす良く分からないメッセージが出たら「q」と答えれば大丈夫です（たぶん。保証はできません）。</p> <p>その後、念のため、以下も実行します。</p> <pre><code>$ sudo apt-get upgrade
$ sudo apt-get autoremove
$ sudo apt-get autoclean
</code></pre> <p>2つ目のコマンドを実行すると、「Stretchで必要だったけどBusterで不要になったもの」が削除されます。</p> <p>サポートされていないパッケージもあるようなので</p> <pre><code>$ sudo apt purge timidity lxmusic gnome-disk-utility deluge-gtk evince wicd wicd-gtk clipit usermode gucharmap gnome-system-tools pavucontrol
</code></pre> <p>で削除します。</p> <p>これで、Raspbian Busterを導入できました。 証拠↓（neofetchは、システムの情報とOSのロゴのアスキーアートを表示してくれます。興味があったらインストールしてみてください）</p> <p><a href=terminal.png><picture><source srcset=optimized_images/terminal_1920px.avif, type=image/avif media="(min-width: 960px)"><source srcset="optimized_images/terminal_960px.avif, optimized_images/terminal_1920px.avif 2x"type=image/avif media="(min-width: 480px) and (max-width: 960px)"><source srcset="optimized_images/terminal_480px.avif, optimized_images/terminal_1920px.avif 4x, optimized_images/terminal_960px.avif 2x"type=image/avif media="(max-width: 480px)"><source srcset=optimized_images/terminal_1920px.webp, type=image/webp media="(min-width: 960px)"><source srcset="optimized_images/terminal_960px.webp, optimized_images/terminal_1920px.webp 2x"type=image/webp media="(min-width: 480px) and (max-width: 960px)"><source srcset="optimized_images/terminal_480px.webp, optimized_images/terminal_1920px.webp 4x, optimized_images/terminal_960px.webp 2x"type=image/webp media="(max-width: 480px)"><img src=terminal.png alt="Raspberry Piの情報が表示された画面"width=697 height=494></picture></a></p> <p>OSの欄に"buster"と表示されています。</p> <h2 id=uiをbuster化>UIをBuster化</h2> <p>上記の長い更新をしても、UIはおそらく何も変わらないはずです。StretchのUIではなくBusterのUIにするには、再起動したあと</p> <pre><code>メインメニュー > Appearance Settings > Defaults タブ
</code></pre> <p>のいくつかあるSet Defaultsボタンの内、自分の使っている画面にあったものを押します。ただし、これを押すと、デスクトップの壁紙やウィンドウ上部の色なども自動的に変更されるため、カスタマイズしていた場合は再度設定が必要になります。また、ボタンを間違えた場合はそのまま正しいボタンを押せば問題ありません。ちなみに、メインメニューは、Raspberry Piの画面上部のタスクバーの1番左にあるRaspberry Piのロゴです。</p> <h2 id=新しいuiは、「平ら」であります>新しいUIは、「平ら」であります</h2> <p>新しいUIは、StretchのUIのボタンにあったような立体感がなくなり、全体的に平べったくなっています。また、ウィンドウ右上の「閉じる」「ウィンドウの最大化」「ウィンドウを隠す」ボタンの内、「閉じる」以外の2つのボタンのデザインが変わりました。デザインは、<a href=https://www.raspberrypi.org/blog/buster-the-new-version-of-raspbian/ >Raspbian Busterについての記事</a>の画像を見るのが分かりやすいです。</p> <h2 id=stretchからの変更点>Stretchからの変更点</h2> <p>Raspbian Stretchから変更された点を気付き次第追記します。</p> <table> <thead> <tr> <th align=left>変更点</th> <th align=left>Stretch</th> <th align=left>Buster</th> </tr> </thead> <tr> <td align=left>ボタンのデザイン</td> <td align=left>影あり</td> <td align=left>影（ほぼ）なし</td> </tr> <tr> <td align=left>ウィンドウ上部のボタンのデザイン</td> <td align=left>_ □ ✕</td> <td align=left><a href=https://www.raspberrypi.org/blog/buster-the-new-version-of-raspbian/ >公式サイト</a>参照</td> </tr> <tr> <td align=left>ウィンドウの色</td> <td align=left>水色</td> <td align=left>グレー</td> </tr> <tr> <td align=left>デフォルトのデスクトップの壁紙</td> <td align=left>道路の写真</td> <td align=left>どこかの寺院（？）の写真</td> </tr> <tr> <td align=left>起動中の画面</td> <td align=left>-</td> <td align=left>Stretchのときと同じ一連の画面 + Debianのロゴ画面</td> </tr> </table> <h2 id=20190714-追記>2019/07/14　追記</h2> <p>2019年7月10日にRaspbian Busterの新しいバージョンが公開され、Linuxカーネルが4.19.50から4.19.57に更新されました。その他の変更点は、<a href=http://downloads.raspberrypi.org/raspbian/release_notes.txt>リリースノート</a>に書かれています。</p> <h2 id=20191009-追記>2019/10/09　追記</h2> <p>久しぶりにsudo apt updateとsudo apt upgradeをしてみたらカーネルが4.19.66に更新され、ファイルマネージャーのアイコンのデザインが変わりました。また、それに伴い、デスクトップに置いているファイルのアイコンも変わりました。さらに、起動時にDebianロゴが表示されなくなりました。新デザインは、画像のような感じです。</p> <p><a href=file_manager.png><picture><source srcset=optimized_images/file_manager_1920px.avif, type=image/avif media="(min-width: 960px)"><source srcset="optimized_images/file_manager_960px.avif, optimized_images/file_manager_1920px.avif 2x"type=image/avif media="(min-width: 480px) and (max-width: 960px)"><source srcset="optimized_images/file_manager_480px.avif, optimized_images/file_manager_1920px.avif 4x, optimized_images/file_manager_960px.avif 2x"type=image/avif media="(max-width: 480px)"><source srcset=optimized_images/file_manager_1920px.webp, type=image/webp media="(min-width: 960px)"><source srcset="optimized_images/file_manager_960px.webp, optimized_images/file_manager_1920px.webp 2x"type=image/webp media="(min-width: 480px) and (max-width: 960px)"><source srcset="optimized_images/file_manager_480px.webp, optimized_images/file_manager_1920px.webp 4x, optimized_images/file_manager_960px.webp 2x"type=image/webp media="(max-width: 480px)"><img src=file_manager.png alt=ファイルマネージャーのスクリーンショット width=1400 height=772></picture></a></p> </article> </main> <footer> Copyright © 2022 Robot-Inventor All rights reserved. <p> <a href=/tos/ >利用規約</a>・<a href=/privacy/ >プライバシーポリシー</a> </p> <p> <a href=https://twitter.com/keita_roboin>Twitter</a>・<a href=https://github.com/Robot-Inventor>GitHub</a> </p> </footer> <script src=/src/js/index.min.js></script>