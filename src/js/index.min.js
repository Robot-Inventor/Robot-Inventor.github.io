"use strict";const menu_overlay=document.getElementById("menu_overlay"),menu_icon=document.getElementById("menu_icon"),menu_close_icon=document.getElementById("menu_bar_close_icon"),menu_bar=document.getElementById("menu_bar"),copyright=document.getElementById("copyright");function open_menu(){menu_overlay.setAttribute("data-open",""),menu_bar.setAttribute("data-open",""),menu_icon.setAttribute("data-type","close")}function close_menu(){menu_overlay.removeAttribute("data-open"),menu_bar.removeAttribute("data-open"),menu_icon.removeAttribute("data-type")}function copy_url(){const textarea=document.createElement("textarea");textarea.textContent=location.href,document.body.appendChild(textarea),textarea.select(),document.execCommand("copy"),textarea.remove()}function share(type){const url_table={twitter:`https://twitter.com/intent/tweet?text=${document.head.querySelector("title").textContent}&url=${location.href}&via=keita_roboin`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${location.href}`,line:`https://social-plugins.line.me/lineit/share?url=${location.href}`};window.open(url_table[type],"_blank")}copyright.textContent=`Copyright © ${(new Date).getFullYear()} Robot-Inventor All rights reserved.`,menu_icon.addEventListener("click",()=>{menu_icon.hasAttribute("data-type")?close_menu():open_menu()}),menu_overlay.addEventListener("click",close_menu);class ShareButtonElement{button;twitter;facebook;line;copy;more;status_attribute="data-active";constructor(){this.button=this.create_button();const overlay=this.create_overlay();this.twitter=this.create_twitter(),this.facebook=this.create_facebook(),this.line=this.create_line();const share_icon=this.create_share_icon();this.copy=this.create_copy(),this.more=this.create_more();const close=this.create_close(),fragment=document.createDocumentFragment();fragment.appendChild(overlay),fragment.appendChild(this.twitter),fragment.appendChild(this.facebook),fragment.appendChild(this.line),fragment.appendChild(share_icon),fragment.appendChild(this.copy),fragment.appendChild(this.more),fragment.appendChild(close),this.button.appendChild(fragment)}create_button(){const button=document.createElement("button");return button.id="share_button",button}create_overlay(){const overlay=document.createElement("div");return overlay.id="share_button_overlay",overlay}create_twitter(){const twitter=document.createElement("img");return twitter.src="/src/icon/twitter.svg",twitter.id="share_button_twitter",twitter.alt="Twitter",twitter}create_facebook(){const facebook=document.createElement("img");return facebook.src="/src/icon/facebook.png",facebook.id="share_button_facebook",facebook.alt="Facebook",facebook}create_line(){const line=document.createElement("img");return line.src="/src/icon/line.png",line.id="share_button_line",line.alt="LINE",line}create_share_icon(){const icon=document.createElement("img");return icon.src="/src/icon/share_white.svg",icon.alt="アイコン",icon.id="share_button_icon",icon}create_copy(){const outer=document.createElement("div");outer.id="share_button_copy";const icon=document.createElement("img");return icon.src="/src/icon/link.svg",icon.alt="コピー",outer.appendChild(icon),outer}create_more(){const outer=document.createElement("div");outer.id="share_button_more";const icon=document.createElement("img");return icon.src="/src/icon/more.svg",icon.alt="その他",outer.appendChild(icon),outer}create_close(){const close=document.createElement("div");return close.id="share_button_close",close}show(){this.button.setAttribute("data-show","")}toggle_status(){this.button.hasAttribute(this.status_attribute)?this.button.removeAttribute(this.status_attribute):this.button.setAttribute(this.status_attribute,"")}get is_active(){return this.button.hasAttribute(this.status_attribute)}}function initialize_share_button(){const share_button=new ShareButtonElement;document.getElementById("article_container_inner").appendChild(share_button.button),setTimeout(()=>{share_button.show()},1e3),share_button.button.addEventListener("click",()=>{share_button.toggle_status()});const basic_share=["twitter","facebook","line"];for(const share_type of basic_share)share_button[share_type].addEventListener("click",()=>{share_button.is_active&&share(share_type)});share_button.copy.addEventListener("click",()=>{share_button.is_active&&copy_url()}),void 0!==navigator.share&&(share_button.more.style.display="block",share_button.more.addEventListener("click",()=>{if(!share_button.is_active)return;const share_data={title:document.title||"",url:location.href};navigator.share(share_data)}))}function on_scroll_process(){if(window.scrollY>=window.innerHeight/2){window.removeEventListener("scroll",on_scroll_process);const site_logo=document.getElementById("site_logo");site_logo.setAttribute("src",site_logo.dataset.src||""),site_logo.setAttribute("alt",site_logo.dataset.alt||""),site_logo.setAttribute("data-show",""),document.getElementById("site_logo_placeholder").remove(),initialize_share_button()}}window.addEventListener("scroll",on_scroll_process);